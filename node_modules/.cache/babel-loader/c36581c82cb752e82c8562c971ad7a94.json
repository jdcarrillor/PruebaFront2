{"ast":null,"code":"import _classCallCheck from \"/Users/danielbrawn/Desktop/FrontProvi/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/danielbrawn/Desktop/FrontProvi/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/danielbrawn/Desktop/FrontProvi/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/danielbrawn/Desktop/FrontProvi/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/danielbrawn/Desktop/FrontProvi/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/danielbrawn/Desktop/FrontProvi/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/danielbrawn/Desktop/FrontProvi/src/components/TiendaDetail.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\nbackground-color: #444;\\ncolor:white;\\nposition:absolute;\\ntop:\", \"px;\\nz-index:999;\\ntransition: top 0.5s ease;\\nmargin-left: 1150px;\\n\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport '../css/producto-style.css';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { FormattedMessage } from \"react-intl\";\nimport styled from 'styled-components';\nvar Container = styled.div(_templateObject(), function (props) {\n  return props.top;\n});\n\nvar TiendaDetail =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TiendaDetail, _Component);\n\n  function TiendaDetail(props) {\n    var _this;\n\n    _classCallCheck(this, TiendaDetail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TiendaDetail).call(this, props));\n\n    _this.postTienda = function () {\n      var nombre = document.getElementById('nombrePost').value;\n      var direccion = document.getElementById('direccionPost').value;\n      var img = document.getElementById('urlPost').value;\n      var tienda = {\n        nombre: nombre,\n        direccion: direccion,\n        imagen: img\n      };\n\n      _this.setState({\n        top: 1100,\n        msg: \"Se creo correctamente\"\n      });\n      /* this.setState({top:-100});*/\n\n\n      var tok = localStorage.getItem('token');\n\n      if (tok) {\n        var token = localStorage.getItem('token').substring(1, localStorage.getItem('token').length - 1);\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n      }\n\n      axios.post('https://regalayapp1.herokuapp.com/tiendas', tienda);\n\n      _this.props.setTimeout(_this.reset, 500000);\n      /*this.props.setTimeout(this.onPost2(tienda), 500000);*/\n\n    };\n\n    _this.putTienda = function () {\n      var nombre = document.getElementById('nombrePut').value;\n\n      if (nombre === \"\") {\n        nombre = _this.state.nombre;\n      }\n\n      var direccion = document.getElementById('direccionPut').value;\n\n      if (direccion === \"\") {\n        direccion = _this.state.direccion;\n      }\n\n      var img = document.getElementById('urlPut').value;\n\n      if (img === \"\") {\n        img = _this.state.imagen;\n      }\n\n      var tienda = {\n        nombre: nombre,\n        imagen: img,\n        direccion: direccion\n      };\n\n      _this.setState({\n        top: 16\n      });\n\n      _this.setState({\n        top: 1100,\n        msg: \"Se actualizo correctamente\"\n      });\n\n      var tok = localStorage.getItem('token');\n\n      if (tok) {\n        var token = localStorage.getItem('token').substring(1, localStorage.getItem('token').length - 1);\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n      }\n\n      axios.put('https://regalayapp1.herokuapp.com/tiendas/' + _this.state.id, tienda);\n\n      _this.props.setTimeout(_this.onPost, 500000);\n\n      console.log(_this.state.id);\n    };\n\n    _this.deleteTienda = function () {\n      var tok = localStorage.getItem('token');\n\n      if (tok) {\n        var token = localStorage.getItem('token').substring(1, localStorage.getItem('token').length - 1);\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n      }\n\n      axios.delete('https://regalayapp1.herokuapp.com/tiendas/' + _this.state.id);\n      window.location.href = 'https://regalayapp1.herokuapp.com/TiendaList';\n\n      _this.setState({\n        top: 16\n      });\n\n      console.log(_this.state.id);\n    };\n\n    _this.reset = function () {\n      _this.setState({\n        top: -100,\n        msg: \"\"\n      });\n    };\n\n    _this.state = {\n      id: 0,\n      pagina: 0,\n      nombre: \"\",\n      productos: [],\n      direccion: \"\",\n      marcas: [],\n      promociones: [],\n      imagen: \"\",\n      top: -100,\n      msg: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(TiendaDetail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var id = this.props.match.params.idTienda;\n      axios.get('https://regalayapp1.herokuapp.com/tiendas/' + id).then(function (response) {\n        var state = _this2.state;\n        var tienda = response.data;\n        state.id = id;\n        state.nombre = tienda.nombre;\n        state.direccion = tienda.direccion;\n        state.imagen = tienda.imagen;\n        state.pagina = 0; // pueden cambiar el tamaño de partion aca\n\n        _this2.setState(state);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Container, {\n        top: this.state.top,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, this.state.msg), React.createElement(\"div\", {\n        className: \"float-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card text-center eso\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"overflow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"card-img-top\",\n        src: this.state.imagen,\n        alt: \"Image1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"card-body text-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, this.state.nombre), React.createElement(\"p\", {\n        className: \"card-text text-secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"Direction\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }), \": \", this.state.direccion), React.createElement(\"p\", {\n        className: \"card-text text-secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"Products\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), \": Camiseta Polo\"), React.createElement(\"p\", {\n        className: \"card-text text-secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"Products\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }), \": Tenis Reebok\"), React.createElement(\"p\", {\n        className: \"card-text text-secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"Promotions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), \": Madrugon Falabella\"), React.createElement(\"p\", {\n        className: \"card-text text-secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"Promotions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), \": BlackFriday\"), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: {\n          pathname: \"/TiendaList\"\n        },\n        className: \"back\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"Back\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"del float-right\",\n        onClick: this.deleteTienda,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"Delete\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }))))))));\n    }\n  }]);\n\n  return TiendaDetail;\n}(Component);\n\nexport default TiendaDetail;","map":{"version":3,"sources":["/Users/danielbrawn/Desktop/FrontProvi/src/components/TiendaDetail.js"],"names":["React","Component","Link","axios","FormattedMessage","styled","Container","div","props","top","TiendaDetail","postTienda","nombre","document","getElementById","value","direccion","img","tienda","imagen","setState","msg","tok","localStorage","getItem","token","substring","length","defaults","headers","common","post","setTimeout","reset","putTienda","state","put","id","onPost","console","log","deleteTienda","delete","window","location","href","pagina","productos","marcas","promociones","match","params","idTienda","get","then","response","data","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport '../css/producto-style.css';\r\nimport {Link} from 'react-router-dom';\r\nimport axios from 'axios'\r\nimport {FormattedMessage} from \"react-intl\";\r\nimport styled from 'styled-components';\r\n\r\nconst Container = styled.div`\r\nbackground-color: #444;\r\ncolor:white;\r\nposition:absolute;\r\ntop:${props=>props.top}px;\r\nz-index:999;\r\ntransition: top 0.5s ease;\r\nmargin-left: 1150px;\r\n\r\n`;\r\nclass TiendaDetail extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      id:0,\r\n      pagina: 0,\r\n      nombre:\"\",\r\n      productos:[],\r\n      direccion:\"\",\r\n      marcas:[],\r\n      promociones:[],\r\n      imagen:\"\",\r\n      top:-100,\r\n      msg:\"\"\r\n      \r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n        var id=this.props.match.params.idTienda;\r\n        \r\n            axios.get('https://regalayapp1.herokuapp.com/tiendas/'+id)\r\n                .then((response) => {\r\n                    var state = this.state;\r\n                    var tienda= response.data;\r\n                    state.id = id;\r\n                    state.nombre = tienda.nombre;\r\n                    state.direccion = tienda.direccion;\r\n                    state.imagen = tienda.imagen;\r\n                    \r\n                \r\n                    state.pagina = 0;\r\n                    // pueden cambiar el tamaño de partion aca\r\n                    this.setState(state);\r\n                });\r\n    }\r\n    postTienda=()=>{\r\n      let nombre=document.getElementById('nombrePost').value;\r\n      let direccion=document.getElementById('direccionPost').value;\r\n    \r\n      let img=document.getElementById('urlPost').value;\r\n     \r\n  \r\n      let tienda={\r\n        nombre:nombre,\r\n        direccion:direccion,\r\n        imagen:img\r\n        \r\n        \r\n                \r\n      }\r\n      this.setState({top:1100, msg:\"Se creo correctamente\"});\r\n\r\n\r\n   \r\n     /* this.setState({top:-100});*/\r\n      var tok=localStorage.getItem('token');\r\n      if (tok) {\r\n        var token = localStorage.getItem('token').substring(1, localStorage.getItem('token').length - 1);\r\n        axios.defaults.headers.common['Authorization'] =\r\n            'Bearer ' + token;\r\n      }\r\n     axios.post('https://regalayapp1.herokuapp.com/tiendas', tienda);\r\n    \r\n      \r\n       this.props.setTimeout(this.reset, 500000);\r\n        /*this.props.setTimeout(this.onPost2(tienda), 500000);*/\r\n      \r\n      \r\n     \r\n    \r\n\r\n    }\r\n    putTienda=()=>{\r\n      let nombre=document.getElementById('nombrePut').value;\r\n      if(nombre===\"\"){\r\n        nombre=this.state.nombre;\r\n      }\r\n      let direccion=document.getElementById('direccionPut').value;\r\n      if(direccion===\"\"){\r\n        direccion=this.state.direccion;\r\n      }\r\n    \r\n      let img=document.getElementById('urlPut').value;\r\n      if(img===\"\"){\r\n        img=this.state.imagen;\r\n      }\r\n  \r\n     \r\n      let tienda={\r\n        nombre:nombre,\r\n        imagen:img,\r\n        direccion:direccion,\r\n      \r\n      }\r\n      this.setState({top:16});\r\n      this.setState({top:1100, msg:\"Se actualizo correctamente\"});\r\n\r\n      var tok=localStorage.getItem('token');\r\n      if (tok) {\r\n        var token = localStorage.getItem('token').substring(1, localStorage.getItem('token').length - 1);\r\n        axios.defaults.headers.common['Authorization'] =\r\n            'Bearer ' + token;\r\n      }\r\n\r\n      axios.put('https://regalayapp1.herokuapp.com/tiendas/'+this.state.id, tienda);\r\n\r\n      this.props.setTimeout(this.onPost, 500000);\r\n      \r\n      console.log(this.state.id);\r\n    }\r\n    deleteTienda=()=>{\r\n      var tok=localStorage.getItem('token');\r\n      if (tok) {\r\n        var token = localStorage.getItem('token').substring(1, localStorage.getItem('token').length - 1);\r\n        axios.defaults.headers.common['Authorization'] =\r\n            'Bearer ' + token;\r\n      }\r\n      axios.delete('https://regalayapp1.herokuapp.com/tiendas/'+this.state.id);\r\n      window.location.href = 'https://regalayapp1.herokuapp.com/TiendaList';\r\n      this.setState({top:16});\r\n      console.log(this.state.id);\r\n    }\r\n\r\n    reset=()=>{\r\n\r\n      this.setState({top:-100, msg:\"\"});\r\n    }\r\n\r\n  render(){\r\n    return(\r\n      <React.Fragment>\r\n      <div className=\"container\">\r\n\r\n      <Container top={this.state.top}>{this.state.msg}</Container>\r\n      <div className=\"float-left\">\r\n        <div className=\"card text-center eso\">\r\n          <div className=\"overflow\">\r\n            <img className='card-img-top' src={this.state.imagen} alt='Image1'/>\r\n          </div>\r\n\r\n            <div className=\"card-body text-dark\">\r\n            <h1 className=\"card-title\">{this.state.nombre}</h1>\r\n            <p className=\"card-text text-secondary\"><FormattedMessage id=\"Direction\" />: {this.state.direccion}</p>\r\n            <p className=\"card-text text-secondary\"><FormattedMessage id=\"Products\" />: Camiseta Polo</p>\r\n            <p className=\"card-text text-secondary\"><FormattedMessage id=\"Products\" />: Tenis Reebok</p>\r\n            <p className=\"card-text text-secondary\"><FormattedMessage id=\"Promotions\" />: Madrugon Falabella</p>\r\n            <p className=\"card-text text-secondary\"><FormattedMessage id=\"Promotions\" />: BlackFriday</p>\r\n            \r\n            <div className=\"container\">\r\n            <Link to={{\r\n              pathname:\"/TiendaList\",\r\n            }}  className=\"back\"><FormattedMessage id=\"Back\" /></Link>\r\n            <button type=\"button\" className=\"del float-right\" onClick={this.deleteTienda}><FormattedMessage id=\"Delete\" /></button>\r\n            </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n     \r\n      </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nexport default TiendaDetail;\r\n"]},"metadata":{},"sourceType":"module"}